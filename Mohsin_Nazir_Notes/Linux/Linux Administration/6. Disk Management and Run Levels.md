# Disk Management and Run Levels

## System Run Levels

**System Run Levels**

System run levels are predefined states that a Unix-based operating system can be in, each with a specific set of services and processes running.

**Main Run level**

0 Shut down (or halt) the system
1 Single-user mode; usually aliased as s or S
6 Reboot the system

**Other Run levels**

2 Multi user mode without networking
3 Multi user mode with networking
5 Multi user mode with networking and GUI.

**Syntax**

```
init <run_level>
```

Shut down

```
init 0
```

Checking current run level

```
who -r
```

## Computer Storage

**Local Storage**

RAM, HDD, SSD, etc.

**DAS (Direct Attached Storage)**

CD/DVD, USB flash drive, external disk directly attached with USB or other cables.

**SAN (Storage Area Network)**

Storage attached through iSCSI or fiber cable

**NAS (Network Attached Storage)**

Storage attached over network (TCP/IP)
E.g. Samba, NFS etc.

## Disk Partition

Commands for disk partition

```
df -h
```

```
fdisk -l
```

**Adding another hard disk on Ubuntu VM**

Power off the VM add another hard disk and start the VM.

**Creating Disk**

Check the hard disk on our VM use the commands. notice that another `Disk /dev/sdb` is listed.

```
sudo fdisk -l
```

**Creating new partition on the disk**

```
sudo nfdisk /dev/sdb
```

the command will open the fdisk menu.

Use the menu command `n` to create the new partition and then `w` to write the partition.

now list the disk and notice the partition `/dev/sdb1` is present under `Disk /dev/sdb`

**Assign the file system type**

```
mkfx.xfs /dev/sdb1
```

**Mount the partition to a directory**

```
mkdir /data
```

```
mount /dev/sdb1 /data
```

**Edit the `fstab` for automatic mount on reboot**

```
sudo vim /etc/fstab
```

add this line in `fstab` ,save & quit.

```
/dev/sdb1	/data	 xfs	defaults	0	0
``` 

reboot the system and `/data` is mounted.

**Unmount**

```
sudo unmount /data
```

if want to mount again use this command.

```
mount a
```